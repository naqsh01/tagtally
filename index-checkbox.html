<!DOCTYPE html>
<html>

<head>
    <link data-require="bootstrap@*" data-semver="3.3.1" rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css" />
    <script data-require="jquery@*" data-semver="2.1.3" src="https://code.jquery.com/jquery-2.1.3.min.js"></script>
    <link rel="stylesheet" href="style.css" />
    <script src="script.js"></script>
</head>

<body>


 <img src="http://54.173.133.8/whereareyourkicks/aj7_bordeaux.jpg" width="400px" height="400px">
  <p>Please click on the tag(s) that describe this image.</p>

	<div id="tags2button" width=200px>
	</div>
	
	<!--
    <button class="btn btn-sm btn-default like-btn active" type="button" id="10">
        <span class="glyphicon glyphicon-thumbs-up"></span>
		<span class="text"></span>
        <span class="badge like-badge"></span>

        
		<span class="text">Liked</span>
        <span class="badge like-badge">1</span>
		
    </button>
	-->
	
<script>
$(document).ready(function(){
	tags2button();
	myInit();
});

function myInit() { 
//$(function () {
    $('.button-checkbox').each(function () {
        // Settings
        var $widget = $(this),
            $button = $widget.find('button'),
            $checkbox = $widget.find('input:checkbox'),
            color = $button.data('color'),
            settings = {
                on: {
                    icon: 'glyphicon glyphicon-check'
                },
                off: {
                    icon: 'glyphicon glyphicon-unchecked'
                }
            };
        // Event Handlers
        $button.on('click', function () {
            $checkbox.prop('checked', !$checkbox.is(':checked'));
            $checkbox.triggerHandler('change');
            updateDisplay();
        });
        $checkbox.on('change', function () {
            updateDisplay();
        });
        // Actions
        function updateDisplay() {
            var isChecked = $checkbox.is(':checked');
            // Set the button's state
            $button.data('state', (isChecked) ? "on" : "off");
            // Set the button's icon
            $button.find('.state-icon')
                .removeClass()
                .addClass('state-icon ' + settings[$button.data('state')].icon);
            // Update the button's color
            if (isChecked) {
                $button
                    .removeClass('btn-default')
                    .addClass('btn-' + color + ' active');
            }
            else {
                $button
                    .removeClass('btn-' + color + ' active')
                    .addClass('btn-default');
            }
        }
        // Initialization
        function init() {
            updateDisplay();
            // Inject the icon if applicable
            if ($button.find('.state-icon').length === 0) {
                $button.prepend('<i class="state-icon ' + settings[$button.data('state')].icon + '"></i> ');
            }
        }
        init();
    });
};
var     new_checkbox_button = function(name,id){
            return "<li><span class='button-checkbox'><button type='button' class='btn btn-sm btn-primary active' data-color='primary'><i class='state-icon glyphicon glyphicon-check'></i>&nbsp;"+name+"</button><input type='checkbox' class='hidden' checked=''></span></li>";
        };
$("#add").click(function(){
       $("#selected_targets").append(new_checkbox_button("lallalala","1111"));
});
</script>	
	
	
    <script>
		
		//Array of tags
		var tags = [
			"#Jordan",
			"#airjordan",
			"#airjordanshoes",
			"#georgetown11s",
			"#redoctobers",
			"#jordansforsale",
			"#jordans4sale",
			"#foamposite",
			"#legendblue11s",
			"#sneakersforsale",
			"#kicks4sale",
			"#kicksforsale",
			"#jordan11",
			"#yeezyboosts",
			"#patone11s",
			"#bordeaux7s",
			"#whatthekobe",
			"#whatthelebron",
			"#hare1s",
			"#jordan10",
			"#mirrorfoamposite",
			"#mirrorfoams",
			"#auntpearl7",
			"#hare7s",
			"#bullsoverbroadway10s"
		]
		
		function tags2button() { 
			createTagTally(tags);
		}
		
		
		function createTagTally(tags) {
			generatedContent='';
			for (i = 0; i < tags.length; i++) { 
				//generatedContent +='<button class="btn btn-sm btn-default like-btn active" type="button" id="10"> <span class="glyphicon glyphicon-thumbs-up"></span> <span class="text">' + tags[i] + '</span> <span class="badge like-badge">1</span>'
				generatedContent += " <span class='button-checkbox'> <button type='button' class='btn' data-color='success'> "+tags[i].substring(1)+"</button> <input type='checkbox' class='hidden' unchecked /></span>";
			}
		
			$(generatedContent).appendTo('#tags2button').trigger('create');
			jQuery.ready();
		}
		
		$(document).on("click", ".like-btn", function(e) {
            e.preventDefault();
				
            var $label = $(this).find('.text'),
                $badge = $(this).find('.badge'),
                count = Number($badge.text()),
                active = $(this).hasClass('active');

			//loop through array and create button

            //$label.text(active ? tags[0] : 'Liked');
            $badge.text(active ? count - 1 : count + 1);
            $(this).toggleClass('active');
        });
    </script>
</body>

</html>
